<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>E-Ration Distributor Dashboard</title>

  <!-- Plotly for Charts -->
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>

  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #f4f6f9;
    }

    header {
      background: #004d40;
      color: white;
      padding: 15px;
      text-align: center;
    }

    header h1 {
      margin: 0;
      font-size: 28px;
      text-align: center; /* âœ… Title centered */
    }

    /* Sidebar Styling */
    .sidebar {
      height: 100%;
      width: 0;  /* Hidden initially */
      position: fixed;
      top: 0;
      left: 0;
      background: linear-gradient(180deg, #004d40, #00796b);
      overflow-x: hidden;
      transition: 0.5s;
      padding-top: 60px;
      box-shadow: 3px 0 10px rgba(0,0,0,0.5);
      z-index: 1000;
    }

    .sidebar a {
      padding: 12px 24px;
      text-decoration: none;
      font-size: 18px;
      color: white;
      display: block;
      transition: 0.3s;
    }

    .sidebar a:hover {
      background-color: rgba(255,255,255,0.2);
      padding-left: 32px;
    }

    .sidebar h2 {
      color: white;
      text-align: center;
      margin-bottom: 20px;
    }

    /* Menu Button */
    .menu-btn {
      font-size: 20px;
      background: #004d40;
      color: white;
      border: none;
      padding: 10px 20px;
      cursor: pointer;
      position: fixed;
      top: 10px;
      left: 10px;
      z-index: 1001;
      border-radius: 8px;
      transition: background 0.3s;
    }

    .menu-btn:hover {
      background: #00796b;
    }

    /* Main Content */
    .main {
      margin-left: 0;
      padding: 20px;
      transition: margin-left 0.5s;
    }

    /* Layout Grids */
    .cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }

    .card {
      background: white;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      transition: transform 0.2s;
    }

    .card:hover {
      transform: scale(1.03);
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
    }

    th, td {
      border: 1px solid #ddd;
      padding: 8px;
      text-align: center;
    }

    th {
      background: #004d40;
      color: white;
    }

    /* Chart Container */
    .chart-container {
      margin-top: 30px;
      background: white;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }

  </style>
</head>
<body>

  <!-- Sidebar Menu -->
  <button class="menu-btn" onclick="toggleNav()">â˜° Menu</button>
  <div id="sidebar" class="sidebar">
    <h2>Navigation</h2>
    
    <li><a href="/add_ration">âž• Add Ration</a></li> 
    <li><a href="/view_ration">ðŸ“¦ View Ration</a></li> 
    <li><a href="/view_beneficiary_list">ðŸ“Š View Beneficiaries</a></li> 
    <li><a href="/ration_distribution">ðŸ“¤ Ration Distribution</a></li> 
    <li><a href="/ration_requests">ðŸ“‹ Ration Requests</a></li> 
    <li><a href="/logout">ðŸšª Logout</a></li> </ul> </div>
  </div>

  <!-- Header -->
  <header>
    <h1>E-Ration Distributor Dashboard</h1>
  </header>

  <!-- Main Content -->
  <div class="main">

    <!-- Stock & Beneficiaries -->
    <div class="cards">
      <div class="card">
        <h3>Stock Management</h3>
        <table>
          <tr><th>Item</th><th>Stock (kg)</th><th>Price (â‚¹/kg)</th></tr>
          <tr><td>Rice</td><td>500</td><td>3</td></tr>
          <tr><td>Wheat</td><td>400</td><td>2</td></tr>
          <tr><td>Sugar</td><td>200</td><td>30</td></tr>
          <tr><td>Kerosene Oil</td><td>300</td><td>20</td></tr>
        </table>
      </div>

      <div class="card">
        <h3>Beneficiary Management</h3>
        <table>
          <tr><th>ID</th><th>Name</th><th>Status</th></tr>
          <tr><td>1</td><td>Beneficiary A</td><td>Active</td></tr>
          <tr><td>2</td><td>Beneficiary B</td><td>Active</td></tr>
          <tr><td>3</td><td>Beneficiary C</td><td>Inactive</td></tr>
          <tr><td>4</td><td>Beneficiary D</td><td>Active</td></tr>
          <tr><td>5</td><td>Beneficiary E</td><td>Active</td></tr>
          <tr><td>6</td><td>Beneficiary F</td><td>Active</td></tr>
          <tr><td>7</td><td>Beneficiary G</td><td>Inactive</td></tr>
          <tr><td>8</td><td>Beneficiary H</td><td>Active</td></tr>
          <tr><td>9</td><td>Beneficiary I</td><td>Active</td></tr>
          <tr><td>10</td><td>Beneficiary J</td><td>Active</td></tr>
        </table>
      </div>
    </div>
   

    <!-- Charts -->
    <div class="chart-container">
      <h3>Distribution by Category (Sunburst)</h3>
      <div id="sunburst"></div>
    </div>

    <div class="chart-container">
      <h3>Ration Distribution Over Months</h3>
      <div id="barChart"></div>
    </div>

    <div class="chart-container">
      <h3>Government Subsidy Allocation (Static Data)</h3>
      <div id="pieChart"></div>
    </div>

  </div>
   <!-- Helpdesk --> <div class="card"> <h2>Helpdesk & Support</h2> <p>Need help? Contact the central support team at ðŸ“ž 1800-123-456.</p> </div> </div>

  <script>
    // Toggle Sidebar
    function toggleNav() {
      const sidebar = document.getElementById("sidebar");
      if (sidebar.style.width === "250px") {
        sidebar.style.width = "0";
      } else {
        sidebar.style.width = "250px";
      }
    }

    // Sunburst Chart
    Plotly.newPlot("sunburst", [{
      type: "sunburst",
      labels: ["Total", "Rice", "Wheat", "Sugar", "Kerosene"],
      parents: ["", "Total", "Total", "Total", "Total"],
      values: [1400, 500, 400, 200, 300],
      outsidetextfont: {size: 20, color: "#377eb8"},
      leaf: {opacity: 0.6},
      marker: {line: {width: 2}}
    }], {margin: {t: 0, l: 0, r: 0, b: 0}});

    // Bar Chart (Static)
    Plotly.newPlot("barChart", [{
      x: ["Jan", "Feb", "Mar", "Apr", "May"],
      y: [300, 400, 350, 500, 450],
      type: "bar",
      marker: {color: "#00796b"}
    }], {title: "Monthly Distribution (kg)"});

    // Pie Chart (Government Subsidy Static Data)
    Plotly.newPlot("pieChart", [{
      values: [40, 30, 20, 10],
      labels: ["Rice", "Wheat", "Sugar", "Kerosene"],
      type: "pie"
    }], {title: "Subsidy Allocation"});
  </script>
</body>
</html>
